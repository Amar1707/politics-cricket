<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Card Game - Lok Sabha Elections 2024</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/modal.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Cricket Card Game - Lok Sabha Elections 2024</h1>
            <p>Use election candidate cards to play cricket!</p>
            <button id="rules-btn" class="rules-btn"><span class="rules-icon">üìã</span> Game Rules</button>
        </header>
    </div>
    
    <!-- Rules Modal -->
    <div id="rules-modal-overlay" class="rules-modal-overlay">
        <div class="rules-modal">
            <button id="rules-close" class="rules-close">√ó</button>
            <h2 class="rules-title">Howzat! Cricket Card Game Rules</h2>
            
            <div class="rules-section">
                <h3 class="rules-section-title">Game Concept</h3>
                <p>Welcome to the <span class="rules-highlight">Cricket Card Game</span> - where Indian politics meets cricket! Use election candidate cards from the 2024 Lok Sabha Elections to play a thrilling cricket match against the computer.</p>
                <p>Each candidate's electoral statistics determine their cricketing prowess. Your strategic card selection could be the difference between hitting a six or getting bowled out!</p>
            </div>
            
            <div class="rules-section">
                <h3 class="rules-section-title">How to Play</h3>
                <p>The game is simple: choose whether to <span class="rules-highlight">bat first</span> or <span class="rules-highlight">bowl first</span>. Each player gets 6 cards in hand.</p>
                <p>For each ball:</p>
                <ol class="rules-list">
                    <li>The <strong>bowler</strong> plays a card first</li>
                    <li>Then the <strong>batter</strong> responds with their card</li>
                    <li>The outcome (runs or wicket) is determined by comparing the cards' stats</li>
                </ol>
                <div class="rules-note">
                    Remember: Just like in real cricket, strategy matters! Save your high vote-share cards for bowling and use them wisely when batting.
                </div>
            </div>
            
            <div class="rules-section">
                <h3 class="rules-section-title">Game Structure</h3>
                <ul class="rules-list">
                    <li>Two innings (you bat in one, bowl in the other)</li>
                    <li>Each innings has a maximum of 6 overs (36 balls)</li>
                    <li>Each team has 6 wickets</li>
                    <li>After the first innings, a target score is set</li>
                    <li>At the end of each over (except the last), the bowling team can refresh cards twice</li>
                </ul>
            </div>
            
            <div class="rules-section">
                <h3 class="rules-section-title">Card Mechanics</h3>
                <p><strong>Wicket Rule:</strong> If the batter's vote share is <em>lower</em> than the bowler's, it's a <span class="rules-highlight">WICKET!</span> (Exception: Rank 1 candidates can never be dismissed!)</p>
                
                <p><strong>Run Scoring:</strong> If the batter's vote share is higher than the bowler's, runs are scored based on the difference:</p>
                <ul class="rules-list">
                    <li>0-3% difference: 0 runs</li>
                    <li>3-6% difference: 1 run</li>
                    <li>6-9% difference: 2 runs</li>
                    <li>9-12% difference: 3 runs</li>
                    <li>12-15% difference: 4 runs</li>
                    <li>15%+ difference: 6 runs!</li>
                </ul>
                <p>If the batter's vote share is lower than the bowler's but the batter is a Rank 1 candidate, they won't be dismissed, but will score 0 runs.</p>
            </div>
            
            <div class="rules-section">
                <h3 class="rules-section-title">Special Rules</h3>
                <p>These special advantages override normal run scoring (even if the batter would score runs):</p>
                
                <div class="rules-special">
                    <div class="special-rule">
                        <div class="special-rule-title">Party Unity</div>
                        <p>If both cards belong to the same party, 0 runs are scored.</p>
                    </div>
                    
                    <div class="special-rule">
                        <div class="special-rule-title">Gender Advantage</div>
                        <p>Female bowlers cause non-female batters to score 0 runs.</p>
                    </div>
                    
                    <div class="special-rule">
                        <div class="special-rule-title">Caste Advantage</div>
                        <p>SC bowlers cause non-SC batters to score 0 runs.</p>
                    </div>
                    
                    <div class="special-rule">
                        <div class="special-rule-title">Tribal Advantage</div>
                        <p>ST bowlers cause non-ST batters to score 0 runs.</p>
                    </div>
                </div>
                
                <div class="rules-note">
                    <strong>Important:</strong> Special rules only apply if the batter's vote share is higher than or equal to the bowler's. If the batter's vote share is lower, it's always 0 runs (or a wicket, if not a Rank 1 candidate).
                </div>
            </div>
            
            <div class="rules-section">
                <h3 class="rules-section-title">Winning the Game</h3>
                <p>In the second innings, the team batting needs to score more runs than the first innings total to win.</p>
                <p>The game ends when:</p>
                <ul class="rules-list">
                    <li>The batting team in the second innings scores more runs than the target (they win)</li>
                    <li>The batting team loses all their wickets (the bowling team wins)</li>
                    <li>All overs are completed (the team with more runs wins)</li>
                </ul>
            </div>
            
            <div class="rules-section">
                <h3 class="rules-section-title">Have Fun!</h3>
                <p>This unique blend of cricket and politics creates surprising and fun outcomes. Every election statistic matters in this game - just like in real elections!</p>
                <div class="rules-note">
                    May the best political cricket team win! üèèüó≥Ô∏è
                </div>
            </div>
        </div>
    </div>
        
    <div class="container">
        <div id="start-screen">
            <h2 style="text-align: center; margin-bottom: 20px;">Choose Your Strategy</h2>
            <div class="game-options">
                <button id="bat-first-btn">Bat First</button>
                <button id="bowl-first-btn">Bowl First</button>
            </div>
        </div>
        
        <div id="game-screen" class="hidden">
            <div class="game-options">
                <button id="reset-btn" class="reset-btn">Reset Game</button>
            </div>
            
            <div class="game-area">
                <div class="scoreboard">
                    <div class="score-section">
                        <h2>Your Score</h2>
                        <p class="score-detail">Runs: <span id="user-runs">0</span>/<span id="user-wickets">0</span></p>
                        <p class="score-detail">Overs: <span id="user-overs">0.0</span></p>
                        <p id="user-innings-indicator" class="current-innings hidden">Batting Now</p>
                    </div>
                    <div class="score-section">
                        <h2>Target</h2>
                        <p class="score-detail"><span id="target-runs">-</span></p>
                    </div>
                    <div class="score-section">
                        <h2>Computer Score</h2>
                        <p class="score-detail">Runs: <span id="comp-runs">0</span>/<span id="comp-wickets">0</span></p>
                        <p class="score-detail">Overs: <span id="comp-overs">0.0</span></p>
                        <p id="comp-innings-indicator" class="current-innings hidden">Batting Now</p>
                    </div>
                </div>
                
                <div class="match-stats">
                    <div class="stat-box">
                        <div class="stat-title">Over</div>
                        <div id="current-over" class="stat-value">0.0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-title">Ball</div>
                        <div id="ball-count" class="stat-value">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-title">Required</div>
                        <div id="req-runs" class="stat-value">-</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-title">Run Rate</div>
                        <div id="run-rate" class="stat-value">0.00</div>
                    </div>
                </div>
                
                <!-- Game summary area that replaces the modal -->
                <div id="game-summary-area" class="game-summary-area hidden">
                    <h2 class="game-summary-title">Game Over!</h2>
                    <p id="game-summary-message" class="game-summary-message">The match has ended.</p>
                    
                    <div class="final-scoreboard">
                        <div class="final-score-title">Final Scorecard</div>
                        <div class="final-score-row">
                            <span class="final-score-label">Your Score:</span>
                            <span id="final-user-score">0/0 (0.0)</span>
                        </div>
                        <div class="final-score-row">
                            <span class="final-score-label">Computer Score:</span>
                            <span id="final-comp-score">0/0 (0.0)</span>
                        </div>
                        <div class="final-score-row">
                            <span class="final-score-label">Result:</span>
                            <span id="final-result">-</span>
                        </div>
                    </div>
                </div>
                
                <div id="ball-result-display" class="hidden">
                    <div id="ball-result" class="ball-result">4 RUNS!</div>
                </div>
                
                <div class="board">
                    <div class="play-area">
                        <div class="card-played">
                            <div class="card-title">Bowler's Card</div>
                            <div id="bowler-card" class="card">
                                <div class="card-header">Select a card to start</div>
                                <img src="images/placeholder.jpg" alt="Candidate Photo" class="player-image">
                                <div class="card-body">
                                    <div class="card-info">
                                        <span class="info-label">Party:</span>
                                        <span class="info-value party-tag">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Age:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Gender:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Vote Share:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Rank:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Constituency:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">State:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Type:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Turnout:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Margin:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Female Turnout Edge:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-played">
                            <div class="card-title">Batter's Card</div>
                            <div id="batter-card" class="card">
                                <div class="card-header">Select a card to start</div>
                                <img src="images/placeholder.jpg" alt="Candidate Photo" class="player-image">
                                <div class="card-body">
                                    <div class="card-info">
                                        <span class="info-label">Party:</span>
                                        <span class="info-value party-tag">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Age:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Gender:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Vote Share:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Rank:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Constituency:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">State:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Type:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Turnout:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Margin:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                    <div class="card-info">
                                        <span class="info-label">Female Turnout Edge:</span>
                                        <span class="info-value">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ball outcome area (exclusively for ball outcomes) -->
                    <div id="outcome-area" class="outcome-area hidden">
                        <div class="outcome-title">Ball Outcome</div>
                        <div id="outcome-message" class="outcome-message">4 RUNS!</div>
                        <button id="next-ball-btn" class="next-ball-btn">Next Ball</button>
                    </div>
                    
                    <!-- New dedicated innings summary area -->
                    <div id="innings-summary-area" class="innings-summary-area hidden">
                        <div class="innings-summary-title">Innings Summary</div>
                        <div id="innings-summary-message" class="innings-summary-message"></div>
                        <button id="continue-innings-btn" class="next-ball-btn">Continue</button>
                    </div>
                    
                    <div class="result-highlight" id="result-display"></div>
                    
                    <div class="action-area">
                        <div class="card-selection">
                            <div>
                                <h3 id="action-text" style="text-align: center; margin-bottom: 15px;">Please wait for the bowler's card</h3>
                                <div class="player-cards" id="player-cards"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="game-log">
                    <div class="log-title">Match Commentary</div>
                    <div id="log-entries"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/cards.js"></script>
    <script src="js/game.js"></script>
    <script src="js/rules.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
